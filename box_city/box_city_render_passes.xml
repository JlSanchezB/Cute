<Root>
<Global>
  <Resource type="RootSignature" name="BoxRootSignature">
    <RootParam index="0" type="DescriptorTable">
      <Range base_shader_register="0" size="1" type="ConstantBuffer" visibility="Vertex"/>
    </RootParam>
    <StaticSample shader_register="0" visibility="Pixel"/>
    <StaticSample shader_register="1" visibility="Pixel" filter="Linear"/>
  </Resource>
  <Resource type="GraphicsPipelineState" name="BoxPipelineState">
    <RootSignature>BoxRootSignature</RootSignature>
    <InputLayouts>
      <Input semantic_name="POSITION" semantic_index="0" format="R32G32B32A32_FLOAT" input_slot="0"/>
    </InputLayouts>
    <Shader pixelshader_entry="ps_box_main" vertexshader_entry="vs_box_main" target="5_0">
      struct ViewData
      {
        float4x4 view_projection_matrix;
      };

      struct PSInput
      {
        float4 position : SV_POSITION;
      };

      ViewData view_data_buffer : c0;

      PSInput vs_box_main(float4 position : POSITION)
      {
        PSInput result;

        result.position = mul(view_data_buffer.view_projection_matrix, position);

        return result;
      }

      float4 ps_box_main(PSInput input) : SV_TARGET
      {
        return float4(1.f, 1.f, 1.f, 1.f);
      }
    </Shader>
    <Rasterization/>
    <RenderTargets>
      <RenderTarget format="R8G8B8A8_UNORM"/>
    </RenderTargets>
  </Resource>
</Global>
<Passes>
  <Pass name="SyncStaticGPUMemory">
    <Dependencies>
      <Resource name="StaticGPUMemoryBuffer" pre_condition_state="Init" post_update_state="Ready" access="UnorderedAccess"/>
    </Dependencies>
    <Commands>
      <SyncStaticGPUMemoryPass/>
    </Commands>
  </Pass>
  <Pass name="Main">
    <Dependencies>
      <Resource name="StaticGPUMemoryBuffer" pre_condition_state="Ready" access="AllShaderResource"/>
    </Dependencies>
    <Commands>
      <SetRenderTarget>
		    <RenderTarget>BackBuffer</RenderTarget>
	    </SetRenderTarget>
	    <ClearRenderTarget colour="0,0,0,0">BackBuffer</ClearRenderTarget>
    </Commands>
  </Pass>
</Passes>
</Root>
